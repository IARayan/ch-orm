[**CH-ORM Documentation v1.3.5**](../README.md)

***

[CH-ORM Documentation](../globals.md) / Blueprint

# Class: Blueprint

Defined in: [schema/Blueprint.ts:353](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L353)

Blueprint class for defining table schema
Used in migrations to define table structure in a fluent manner

## Constructors

### Constructor

> **new Blueprint**(`table`): `Blueprint`

Defined in: [schema/Blueprint.ts:441](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L441)

Create a new Blueprint instance

#### Parameters

##### table

`string`

Table name

#### Returns

`Blueprint`

## Methods

### registerColumn()

> **registerColumn**(`column`): `void`

Defined in: [schema/Blueprint.ts:449](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L449)

Register a column definition generated by a ColumnBuilder

#### Parameters

##### column

`ColumnDefinition`

Column definition to register

#### Returns

`void`

***

### string()

> **string**(`name`, `options`): `ColumnBuilder`

Defined in: [schema/Blueprint.ts:488](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L488)

Add a String column

#### Parameters

##### name

`string`

Column name

##### options

`Partial`\<`Omit`\<`ColumnDefinition`, `"name"` \| `"type"`\>\> = `{}`

Column options (for backward compatibility)

#### Returns

`ColumnBuilder`

ColumnBuilder instance for chaining

***

### int32()

> **int32**(`name`, `options`): `ColumnBuilder`

Defined in: [schema/Blueprint.ts:501](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L501)

Add an Int32 column

#### Parameters

##### name

`string`

Column name

##### options

`Partial`\<`Omit`\<`ColumnDefinition`, `"name"` \| `"type"`\>\> = `{}`

Column options (for backward compatibility)

#### Returns

`ColumnBuilder`

ColumnBuilder instance for chaining

***

### int8()

> **int8**(`name`, `options`): `ColumnBuilder`

Defined in: [schema/Blueprint.ts:514](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L514)

Add an Int8 column

#### Parameters

##### name

`string`

Column name

##### options

`Partial`\<`Omit`\<`ColumnDefinition`, `"name"` \| `"type"`\>\> = `{}`

Column options (for backward compatibility)

#### Returns

`ColumnBuilder`

ColumnBuilder instance for chaining

***

### uint8()

> **uint8**(`name`, `options`): `ColumnBuilder`

Defined in: [schema/Blueprint.ts:527](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L527)

Add an UInt8 column

#### Parameters

##### name

`string`

Column name

##### options

`Partial`\<`Omit`\<`ColumnDefinition`, `"name"` \| `"type"`\>\> = `{}`

Column options (for backward compatibility)

#### Returns

`ColumnBuilder`

ColumnBuilder instance for chaining

***

### int16()

> **int16**(`name`, `options`): `ColumnBuilder`

Defined in: [schema/Blueprint.ts:540](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L540)

Add an Int16 column

#### Parameters

##### name

`string`

Column name

##### options

`Partial`\<`Omit`\<`ColumnDefinition`, `"name"` \| `"type"`\>\> = `{}`

Column options (for backward compatibility)

#### Returns

`ColumnBuilder`

ColumnBuilder instance for chaining

***

### uint16()

> **uint16**(`name`, `options`): `ColumnBuilder`

Defined in: [schema/Blueprint.ts:553](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L553)

Add an UInt16 column

#### Parameters

##### name

`string`

Column name

##### options

`Partial`\<`Omit`\<`ColumnDefinition`, `"name"` \| `"type"`\>\> = `{}`

Column options (for backward compatibility)

#### Returns

`ColumnBuilder`

ColumnBuilder instance for chaining

***

### uint32()

> **uint32**(`name`, `options`): `ColumnBuilder`

Defined in: [schema/Blueprint.ts:566](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L566)

Add an UInt32 column

#### Parameters

##### name

`string`

Column name

##### options

`Partial`\<`Omit`\<`ColumnDefinition`, `"name"` \| `"type"`\>\> = `{}`

Column options (for backward compatibility)

#### Returns

`ColumnBuilder`

ColumnBuilder instance for chaining

***

### int64()

> **int64**(`name`, `options`): `ColumnBuilder`

Defined in: [schema/Blueprint.ts:579](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L579)

Add an Int64 column

#### Parameters

##### name

`string`

Column name

##### options

`Partial`\<`Omit`\<`ColumnDefinition`, `"name"` \| `"type"`\>\> = `{}`

Column options (for backward compatibility)

#### Returns

`ColumnBuilder`

ColumnBuilder instance for chaining

***

### uint64()

> **uint64**(`name`, `options`): `ColumnBuilder`

Defined in: [schema/Blueprint.ts:592](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L592)

Add an UInt64 column

#### Parameters

##### name

`string`

Column name

##### options

`Partial`\<`Omit`\<`ColumnDefinition`, `"name"` \| `"type"`\>\> = `{}`

Column options (for backward compatibility)

#### Returns

`ColumnBuilder`

ColumnBuilder instance for chaining

***

### float32()

> **float32**(`name`, `options`): `ColumnBuilder`

Defined in: [schema/Blueprint.ts:605](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L605)

Add a Float32 column

#### Parameters

##### name

`string`

Column name

##### options

`Partial`\<`Omit`\<`ColumnDefinition`, `"name"` \| `"type"`\>\> = `{}`

Column options (for backward compatibility)

#### Returns

`ColumnBuilder`

ColumnBuilder instance for chaining

***

### float64()

> **float64**(`name`, `options`): `ColumnBuilder`

Defined in: [schema/Blueprint.ts:618](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L618)

Add a Float64 column

#### Parameters

##### name

`string`

Column name

##### options

`Partial`\<`Omit`\<`ColumnDefinition`, `"name"` \| `"type"`\>\> = `{}`

Column options (for backward compatibility)

#### Returns

`ColumnBuilder`

ColumnBuilder instance for chaining

***

### decimal()

> **decimal**(`name`, `precision`, `scale`, `options`): `ColumnBuilder`

Defined in: [schema/Blueprint.ts:633](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L633)

Add a Decimal column

#### Parameters

##### name

`string`

Column name

##### precision

`number` = `10`

Precision (total digits)

##### scale

`number` = `0`

Scale (decimal places)

##### options

`Partial`\<`Omit`\<`ColumnDefinition`, `"name"` \| `"type"`\>\> = `{}`

Column options (for backward compatibility)

#### Returns

`ColumnBuilder`

ColumnBuilder instance for chaining

***

### fixedString()

> **fixedString**(`name`, `length`, `options`): `ColumnBuilder`

Defined in: [schema/Blueprint.ts:653](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L653)

Add a FixedString column

#### Parameters

##### name

`string`

Column name

##### length

`number`

String length

##### options

`Partial`\<`Omit`\<`ColumnDefinition`, `"name"` \| `"type"`\>\> = `{}`

Column options (for backward compatibility)

#### Returns

`ColumnBuilder`

ColumnBuilder instance for chaining

***

### uuid()

> **uuid**(`name`, `options`): `ColumnBuilder`

Defined in: [schema/Blueprint.ts:671](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L671)

Add a UUID column

#### Parameters

##### name

`string`

Column name

##### options

`Partial`\<`Omit`\<`ColumnDefinition`, `"name"` \| `"type"`\>\> = `{}`

Column options (for backward compatibility)

#### Returns

`ColumnBuilder`

ColumnBuilder instance for chaining

***

### date()

> **date**(`name`, `options`): `ColumnBuilder`

Defined in: [schema/Blueprint.ts:684](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L684)

Add a Date column

#### Parameters

##### name

`string`

Column name

##### options

`Partial`\<`Omit`\<`ColumnDefinition`, `"name"` \| `"type"`\>\> = `{}`

Column options (for backward compatibility)

#### Returns

`ColumnBuilder`

ColumnBuilder instance for chaining

***

### date32()

> **date32**(`name`, `options`): `ColumnBuilder`

Defined in: [schema/Blueprint.ts:697](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L697)

Add a Date32 column

#### Parameters

##### name

`string`

Column name

##### options

`Partial`\<`Omit`\<`ColumnDefinition`, `"name"` \| `"type"`\>\> = `{}`

Column options (for backward compatibility)

#### Returns

`ColumnBuilder`

ColumnBuilder instance for chaining

***

### dateTime()

> **dateTime**(`name`, `options`): `ColumnBuilder`

Defined in: [schema/Blueprint.ts:710](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L710)

Add a DateTime column

#### Parameters

##### name

`string`

Column name

##### options

`Partial`\<`Omit`\<`ColumnDefinition`, `"name"` \| `"type"`\>\> = `{}`

Column options (for backward compatibility)

#### Returns

`ColumnBuilder`

ColumnBuilder instance for chaining

***

### dateTime64()

> **dateTime64**(`name`, `precision`, `timezone`?, `options`?): `ColumnBuilder`

Defined in: [schema/Blueprint.ts:725](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L725)

Add a DateTime64 column

#### Parameters

##### name

`string`

Column name

##### precision

`number` = `3`

Precision (0-9)

##### timezone?

`string`

Timezone name

##### options?

`Partial`\<`Omit`\<`ColumnDefinition`, `"name"` \| `"type"`\>\> = `{}`

Column options (for backward compatibility)

#### Returns

`ColumnBuilder`

ColumnBuilder instance for chaining

***

### boolean()

> **boolean**(`name`, `options`): `ColumnBuilder`

Defined in: [schema/Blueprint.ts:748](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L748)

Add a Boolean column (implemented as UInt8)

#### Parameters

##### name

`string`

Column name

##### options

`Partial`\<`Omit`\<`ColumnDefinition`, `"name"` \| `"type"`\>\> = `{}`

Column options (for backward compatibility)

#### Returns

`ColumnBuilder`

ColumnBuilder instance for chaining

***

### array()

> **array**(`name`, `subtype`, `options`): `ColumnBuilder`

Defined in: [schema/Blueprint.ts:762](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L762)

Add an Array column

#### Parameters

##### name

`string`

Column name

##### subtype

`string`

Array element type

##### options

`Partial`\<`Omit`\<`ColumnDefinition`, `"name"` \| `"type"`\>\> = `{}`

Column options (for backward compatibility)

#### Returns

`ColumnBuilder`

ColumnBuilder instance for chaining

***

### nullable()

> **nullable**(`name`, `subtype`, `options`): `ColumnBuilder`

Defined in: [schema/Blueprint.ts:777](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L777)

Add a Nullable column

#### Parameters

##### name

`string`

Column name

##### subtype

`string`

Base type

##### options

`Partial`\<`Omit`\<`ColumnDefinition`, `"name"` \| `"type"` \| `"nullable"`\>\> = `{}`

Column options (for backward compatibility)

#### Returns

`ColumnBuilder`

ColumnBuilder instance for chaining

***

### lowCardinality()

> **lowCardinality**(`name`, `subtype`, `options`): `ColumnBuilder`

Defined in: [schema/Blueprint.ts:795](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L795)

Add a LowCardinality column

#### Parameters

##### name

`string`

Column name

##### subtype

`string`

Base type

##### options

`Partial`\<`Omit`\<`ColumnDefinition`, `"name"` \| `"type"`\>\> = `{}`

Column options (for backward compatibility)

#### Returns

`ColumnBuilder`

ColumnBuilder instance for chaining

***

### map()

> **map**(`name`, `keyType`, `valueType`, `options`): `ColumnBuilder`

Defined in: [schema/Blueprint.ts:815](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L815)

Add a Map column

#### Parameters

##### name

`string`

Column name

##### keyType

`string`

Key type

##### valueType

`string`

Value type

##### options

`Partial`\<`Omit`\<`ColumnDefinition`, `"name"` \| `"type"`\>\> = `{}`

Column options (for backward compatibility)

#### Returns

`ColumnBuilder`

ColumnBuilder instance for chaining

***

### ipv4()

> **ipv4**(`name`, `options`): `ColumnBuilder`

Defined in: [schema/Blueprint.ts:834](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L834)

Add an IPv4 column

#### Parameters

##### name

`string`

Column name

##### options

`Partial`\<`Omit`\<`ColumnDefinition`, `"name"` \| `"type"`\>\> = `{}`

Column options (for backward compatibility)

#### Returns

`ColumnBuilder`

ColumnBuilder instance for chaining

***

### ipv6()

> **ipv6**(`name`, `options`): `ColumnBuilder`

Defined in: [schema/Blueprint.ts:847](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L847)

Add an IPv6 column

#### Parameters

##### name

`string`

Column name

##### options

`Partial`\<`Omit`\<`ColumnDefinition`, `"name"` \| `"type"`\>\> = `{}`

Column options (for backward compatibility)

#### Returns

`ColumnBuilder`

ColumnBuilder instance for chaining

***

### json()

> **json**(`name`, `options`): `ColumnBuilder`

Defined in: [schema/Blueprint.ts:860](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L860)

Add a JSON column

#### Parameters

##### name

`string`

Column name

##### options

`Partial`\<`Omit`\<`ColumnDefinition`, `"name"` \| `"type"`\>\> = `{}`

Column options (for backward compatibility)

#### Returns

`ColumnBuilder`

ColumnBuilder instance for chaining

***

### index()

> **index**(`name`, `expression`, `type`, `granularity`): `this`

Defined in: [schema/Blueprint.ts:875](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L875)

Add an index to the table

#### Parameters

##### name

`string`

Index name

##### expression

`string`

Index expression

##### type

Index type

`undefined` | `"minmax"` | `"set"` | `"ngrambf_v1"` | `"tokenbf_v1"` | `"bloom_filter"`

##### granularity

`number` = `1`

Index granularity

#### Returns

`this`

Blueprint instance for chaining

***

### setEngine()

> **setEngine**(`engine`, ...`params`): `this`

Defined in: [schema/Blueprint.ts:897](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L897)

Set the engine for the table

#### Parameters

##### engine

[`TableEngines`](../enumerations/TableEngines.md)

Table engine

##### params

...`string`[]

Engine parameters

#### Returns

`this`

Blueprint instance for chaining

***

### mergeTree()

> **mergeTree**(): `this`

Defined in: [schema/Blueprint.ts:907](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L907)

Set the MergeTree engine

#### Returns

`this`

Blueprint instance for chaining

***

### replacingMergeTree()

> **replacingMergeTree**(`version`?): `this`

Defined in: [schema/Blueprint.ts:916](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L916)

Set the ReplacingMergeTree engine

#### Parameters

##### version?

`string`

Version column name (optional)

#### Returns

`this`

Blueprint instance for chaining

***

### summingMergeTree()

> **summingMergeTree**(...`columns`): `this`

Defined in: [schema/Blueprint.ts:928](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L928)

Set the SummingMergeTree engine

#### Parameters

##### columns

...`string`[]

Columns to sum (optional)

#### Returns

`this`

Blueprint instance for chaining

***

### aggregatingMergeTree()

> **aggregatingMergeTree**(): `this`

Defined in: [schema/Blueprint.ts:939](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L939)

Set the AggregatingMergeTree engine

#### Returns

`this`

Blueprint instance for chaining

***

### collapsingMergeTree()

> **collapsingMergeTree**(`signColumn`): `this`

Defined in: [schema/Blueprint.ts:948](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L948)

Set the CollapsingMergeTree engine

#### Parameters

##### signColumn

`string`

Sign column name

#### Returns

`this`

Blueprint instance for chaining

***

### versionedCollapsingMergeTree()

> **versionedCollapsingMergeTree**(`signColumn`, `versionColumn`): `this`

Defined in: [schema/Blueprint.ts:958](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L958)

Set the VersionedCollapsingMergeTree engine

#### Parameters

##### signColumn

`string`

Sign column name

##### versionColumn

`string`

Version column name

#### Returns

`this`

Blueprint instance for chaining

***

### orderBy()

> **orderBy**(`columns`): `this`

Defined in: [schema/Blueprint.ts:974](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L974)

Set the order by expression (PRIMARY KEY)

#### Parameters

##### columns

`OrderByKey`

Column expressions

#### Returns

`this`

Blueprint instance for chaining

***

### partitionBy()

> **partitionBy**(`partitionKey`): `this`

Defined in: [schema/Blueprint.ts:989](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L989)

Set the partition by expression

#### Parameters

##### partitionKey

`PartitionKey`

Partition key expression

#### Returns

`this`

Blueprint instance for chaining

***

### sampleBy()

> **sampleBy**(`expression`): `this`

Defined in: [schema/Blueprint.ts:1004](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L1004)

Set the sampling expression

#### Parameters

##### expression

`string`

Sampling expression

#### Returns

`this`

Blueprint instance for chaining

***

### ttl()

> **ttl**(`expression`): `this`

Defined in: [schema/Blueprint.ts:1014](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L1014)

Set the TTL expression

#### Parameters

##### expression

`string`

TTL expression

#### Returns

`this`

Blueprint instance for chaining

***

### tableSettings()

> **tableSettings**(`settings`): `this`

Defined in: [schema/Blueprint.ts:1024](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L1024)

Set table settings

#### Parameters

##### settings

`TableSettings`

Table settings

#### Returns

`this`

Blueprint instance for chaining

***

### comment()

> **comment**(`comment`): `this`

Defined in: [schema/Blueprint.ts:1034](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L1034)

Set a comment for the table

#### Parameters

##### comment

`string`

Table comment

#### Returns

`this`

Blueprint instance for chaining

***

### temporary()

> **temporary**(): `this`

Defined in: [schema/Blueprint.ts:1043](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L1043)

Mark the table as temporary

#### Returns

`this`

Blueprint instance for chaining

***

### setIfNotExists()

> **setIfNotExists**(`value`): `this`

Defined in: [schema/Blueprint.ts:1053](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L1053)

Set if not exists flag

#### Parameters

##### value

`boolean`

If not exists flag value

#### Returns

`this`

Blueprint instance for chaining

***

### toSql()

> **toSql**(): `string`

Defined in: [schema/Blueprint.ts:1062](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L1062)

Build the SQL for creating the table

#### Returns

`string`

SQL query for creating the table

***

### toDropSql()

> **toDropSql**(`ifExists`): `string`

Defined in: [schema/Blueprint.ts:1178](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L1178)

Build the SQL for dropping the table

#### Parameters

##### ifExists

`boolean` = `true`

Add IF EXISTS clause

#### Returns

`string`

SQL query for dropping the table

***

### getTableName()

> **getTableName**(): `string`

Defined in: [schema/Blueprint.ts:1194](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L1194)

Get the table name

#### Returns

`string`

Table name

***

### getColumns()

> **getColumns**(): `ColumnDefinition`[]

Defined in: [schema/Blueprint.ts:1202](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L1202)

Get columns

#### Returns

`ColumnDefinition`[]

Column definitions

***

### toAlterSql()

> **toAlterSql**(): `string`

Defined in: [schema/Blueprint.ts:1210](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L1210)

Generate SQL for ALTER TABLE operations

#### Returns

`string`

SQL string for ALTER TABLE

***

### dropColumn()

> **dropColumn**(`name`): `this`

Defined in: [schema/Blueprint.ts:1277](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L1277)

Drop a column

#### Parameters

##### name

`string`

Column name to drop

#### Returns

`this`

Blueprint instance for chaining

***

### setAltering()

> **setAltering**(`value`): `this`

Defined in: [schema/Blueprint.ts:1287](https://github.com/iarayan/ch-orm/blob/main/src/schema/Blueprint.ts#L1287)

Set the ALTER TABLE context

#### Parameters

##### value

`boolean`

Whether we're in an ALTER TABLE context

#### Returns

`this`

Blueprint instance for chaining
